<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: 데이터 과학을 위한 저작도구</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    
    <!--
    <div id="google_translate_element"></div><script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'ko', includedLanguages: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
    }
    </script><script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    -->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">데이터 과학을 위한 저작도구</h1></a>
          <h2 class="subtitle">정적 웹콘텐츠 개발 클라우드 가상서버 아키텍처</h2>
          <section class="objectives panel panel-warning">
<div class="panel-heading">
<h2 id="학습-목표"><span class="glyphicon glyphicon-certificate"></span>학습 목표</h2>
</div>
<div class="panel-body">
<ul>
<li>데이터 제품을 위한 정적 웹사이트 개발 풀스택 아키텍처 설계한다.</li>
<li>CLI, GUI, 웹 기반 개발 인터페이스를 지원한다.</li>
<li>VM, LAMP, Jekyll, RStudio/Shiny 개발서버를 자동화한다.</li>
</ul>
</div>
</section>
<h2 id="클라우드-기반-개발-서버-아키텍처">클라우드 기반 개발 서버 아키텍처</h2>
<p>정적 웹콘텐츠 개발을 위한 개발서버로 리눅스 우분투 운영체제 위에 세가지 개발 인터페이스를 지원한다.</p>
<ul>
<li>웹 인터페이스 : 크롬, 사파리, 파이어폭스, 익스플로러 웹브라우져를 통해 개발 서버에 접속해 개발한다.</li>
<li>명령라인 인터페이스(CLI) : 보안 쉘(Secure SHell, SSH)을 통해 개발 서버에 접속해 개발한다.</li>
<li>그래픽 사용자 인터페이스 (GUI) : WIMP(Window, Icon, Menu, Pointer)를 지원하는 VNC 서비스를 원격 데스트톱을 통해 개발서버에 접속해 개발한다.</li>
</ul>
<pre class="output"><code>Virtual Machine         Static Website          Desktop GUI             DevOps              
+-----------+           +-----------+           +-----------+           +---------------+ 
| Ubuntu    |           | Jekyll    |           |           |           | Jenkins       |
| LAMP      |----------&gt;| Pandoc    |----------&gt;| tightVNC  |----------&gt;| GitHub Webhook|
|           |           |           |           |           |           |               | 
+-----------+           +-----------+           +-----------+           +---------------+ 
     ^                                              
     |
     |
Data Science                                  
+-----------+                                       
| Shiny     |                                       
| RStudio   |
|           |          
+-----------+          </code></pre>
<section class="prereq panel panel-warning">
<div class="panel-heading">
<h2 id="개발-서버-준비-순서"><span class="glyphicon glyphicon-education"></span>개발 서버 준비 순서</h2>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>가상서버 생성할 때 LAMP를 설치하여 주문한다.<br />
</li>
<li>정적 웹사이트 개발 툴체인 설치한다.<br />
</li>
<li>데스크톱 GUI를 <code>tightVNC</code> 기준 설치한다.<br />
</li>
<li>데이터 과학 개발위한 <code>Shiny</code>와 <code>RStudio</code>를 설치한다.<br />
</li>
<li>개발 제품 배포를 위해 <code>젠킨스(Jenkins)</code>를 설치한다.</li>
</ol>
</div>
</section>
<h2 id="lamp-설치된-가상-서버-생성">1. LAMP 설치된 가상 서버 생성</h2>
<p><code>vm-create.py</code> 파이썬 프로그램을 통해서 <code>LAMP</code>가 설치된 가상 컴퓨터를 주문한다.</p>
<pre class="input"><code>root@shiny:~# python vm-create.py dev-lamp</code></pre>
<pre class="input"><code>import sys
import SoftLayer

vmname = sys.argv[1]

client = SoftLayer.create_client_from_env(username=&quot;SLXXXXXX&quot;,
        api_key=&quot;7c7XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX)

shiny_object = client[&#39;Virtual_Guest&#39;].createObject({
    &#39;hostname&#39;: vmname,
    &#39;domain&#39;: &#39;xwmooc.net&#39;,
    &#39;startCpus&#39;: 1,
    &#39;maxMemory&#39;: 1024,
    &#39;hourlyBillingFlag&#39;: &#39;true&#39;,
    &#39;operatingSystemReferenceCode&#39;: &#39;UBUNTU_LATEST&#39;,
    &#39;localDiskFlag&#39;: &#39;true&#39;,
    &#39;datacenter&#39;: { &quot;name&quot; : &#39;hkg02&#39;},
    &#39;local_disk&#39;: 25,
    &#39;public&#39;: &#39;true&#39;
})

for key, value in shiny_object.iteritems():
    print key, &quot; : &quot;, value</code></pre>
<p><code>service --status-all</code> 명령어를 통해서 <code>apache2</code> 서비스가 동작하고 있음을 확인한다. 웹브라우져를 열고 <code>ifconfig eth1</code>을 통해 <em>inet addr:169.XX.XXX.XX</em> IP주소를 확인하고 주소창에 넣어 정상적으로<br />
<strong>Apache2 Ubuntu Default Page</strong>가 뜨는지 확인하는 것도 방법이다.</p>
<pre class="input"><code>root@shiny:~# service --status-all | grep &#39;+&#39;</code></pre>
<pre class="output"><code> [ + ]  acpid
 [ + ]  apache2
 [ + ]  apparmor
 [ ? ]  apport
 [ ? ]  binfmt-support
 [ ? ]  console-setup
 [ + ]  cron
 [ + ]  cups
 [ + ]  cups-browsed
 [ ? ]  dns-clean
 [ + ]  friendly-recovery
 [ + ]  kerneloops
 [ ? ]  killprocs
 [ ? ]  kmod
 [ ? ]  lightdm
 [ ? ]  mysql
 [ ? ]  networking
 [ ? ]  nimbus
 [ ? ]  ondemand
 [ + ]  open-iscsi
 [ ? ]  pppd-dns
 [ ? ]  rc.local
 [ + ]  rsyslog
 [ + ]  saned
 [ ? ]  sendsigs
 [ ? ]  speech-dispatcher
 [ + ]  udev
 [ ? ]  umountfs
 [ ? ]  umountiscsi.sh
 [ ? ]  umountnfs.sh
 [ ? ]  umountroot
 [ + ]  xe-linux-distribution
 [ + ]  xrdp</code></pre>
<h2 id="정적웹콘텐츠-개발-위한-제킬jekyll-설치">2. 정적웹콘텐츠 개발 위한 제킬(Jekyll) 설치</h2>
<h3 id="root-권한을-갖는-사용자-등록">2.1 <code>root</code> 권한을 갖는 사용자 등록</h3>
<p>루트 권한을 갖는 사용자를 준비하기 위해서 먼저 일반 사용자를 등록하고 등록된 사용자에 루트권한을 부여한다. <code>adduser xwmooc</code> 명령어를 통해서 <code>xwmooc</code> 사용자를 등록했다. 그리고 나서 <code>gpasswd -a xwmooc sudo</code> 명령어로 <code>sudo</code> 그룹에 등록해서 루트권한을 부여했다.</p>
<p><code>su - xwmooc</code> 명령어를 통해서 루트가 아닌 일반사용자로 로그인했다.</p>
<pre class="input"><code>root@vnc:~# adduser xwmooc
Adding user `xwmooc&#39; ...
Adding new group `xwmooc&#39; (1000) ...
Adding new user `xwmooc&#39; (1000) with group `xwmooc&#39; ...
Creating home directory `/home/xwmooc&#39; ...
Copying files from `/etc/skel&#39; ...
Enter new UNIX password:
Retype new UNIX password:
passwd: password updated successfully
Changing the user information for xwmooc
Enter the new value, or press ENTER for the default
        Full Name []: xwMOOC
        Room Number []:
        Work Phone []:
        Home Phone []:
        Other []:
Is the information correct? [Y/n] Y</code></pre>
<pre class="input"><code>root@vnc:~# gpasswd -a xwmooc sudo
Adding user xwmooc to group sudo
root@vnc:~# su - xwmooc
xwmooc@vnc:~$</code></pre>
<h3 id="정적-웹콘텐츠-개발-툴체인-설치">2 정적 웹콘텐츠 개발 툴체인 설치</h3>
<p>정적 웹콘텐츠 개발 툴체인 설치에 대한 자세한 사항은 <a href="03-dev-vm.html">정적 웹콘텐츠 개발 가상서버 구축</a>을 참고한다.</p>
<div class="figure">
<img src="fig/dev-vm-software-stack.png" alt="정적 웹콘텐츠 개발 툴체인" />
<p class="caption">정적 웹콘텐츠 개발 툴체인</p>
</div>
<h2 id="데스크톱-gui-설치">3. 데스크톱 GUI 설치</h2>
<p>가상 컴퓨터 데스크톱 GUI 설치에 대한 자세한 사항은 <a href="02-xrdp-cli.html">VNC 그래픽 사용자 인터페이스(GUI)</a>를 참조한다.</p>
<h2 id="데이터-과학-툴체인-설치">4. 데이터 과학 툴체인 설치</h2>
<p>데이터를 위한 언어인 R을 사용하여 데이터 과학 툴체인을 구축할 경우 <a href="http://www.rstudio.com/">RStudio</a>와 <a href="http://shiny.rstudio.com/">Shiny</a> 서버가 필요하다. <a href="http://www.rstudio.com/">RStudio</a>와 <a href="http://shiny.rstudio.com/">Shiny</a> 설치는 다음을 참고한다.</p>
<ul>
<li><a href="04-docker-r.html"></a></li>
<li><a href="06-install-shiny.html">Shiny 서버 설치</a></li>
</ul>
<p><strong><code>RCurl</code>, <code>shinyapps</code> 라이브러리 설치 </strong></p>
<pre class="input"><code>apt-get -y build-dep libcurl4-gnutls-dev
apt-get -y install libcurl4-gnutls-dev</code></pre>
<h2 id="개발운영devops-젠킨스-설치">5. 개발운영(DevOps) 젠킨스 설치</h2>
<p>개발운영의 대명사 <a href="https://jenkins-ci.org/">젠킨스(Jenkins)</a>가 필요한데 자바 기반으로 되어 있어 자바 JDK를 깔고 젠킨스를 설치한다. 젠킨스 설치에 대한 자세한 사항은 다음 <a href="03-devops.html">웹페이지</a>를 참조한다.</p>
<h2 id="풀스택-개발-아키텍쳐">풀스택 개발 아키텍쳐</h2>
<p>데이터 제품 개발을 위한 정적 웹사이트 개발 풀스택 아키텍처은 다음과 같다. <code>SSH</code>를 통해 명령라인 인터페이스(CLI) 접근, <code>LAMP</code> 설치를 통한 웹 인터페이스, <code>VNC</code>를 통한 데스크톱 GUI 인터페이스를 통해서 언제 어디서나 다양한 방식으로 개발을 진행할 수 있다.</p>
<p>Shiny와 RStudio를 통해 데이터 제품을 개발하고, 제킬을 통해 정적 웹사이트를 함께 젠킨스를 통해서 개발산출물을 운영 환경에 배포한다.</p>
<div class="figure">
<img src="fig/dev-vm-lamp-jekyll-vnc-jenkins.png" alt="데이터 제품 개발을 위한 정적 웹사이트 개발 풀스택 아키텍처" />
<p class="caption">데이터 제품 개발을 위한 정적 웹사이트 개발 풀스택 아키텍처</p>
</div>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-37305346-2', 'auto');
      ga('send', 'pageview');
    
    </script>
  </body>
</html>
